!function(t){function e(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){s(1),t.exports=s(22)},function(t,e,s){"use strict";var i=s(2),a=s(3),r=s(14),n=s(15),o=s(16),h=s(20),l=document.getElementById("fps"),d=window.innerWidth<1024?window.innerWidth:1024,c={width:d,height:Math.floor(d/1.8),height2:Math.floor(d/1.8/2),fov:70*Math.PI/180,drawingdistance:20,floorcolor1:"#3D2F2D",floorcolor2:"#261311",wallheight:.8*Math.floor(d/1.8)},g=new i.AssetLoader;g.loadall(function(t){return document.getElementById("loading").innerHTML="Loading: "+Math.ceil(100*t)+"%"},function(){function t(){var e=Date.now(),s=e-w;w=e,f.getcontrols(u,p,s),m.renderframe(s,p,c.fov),requestAnimationFrame(t),l.innerText=Math.floor(1e3/s).toString()}document.getElementById("loading-container").style.display="none";var e=document.getElementById("gamecanvas"),s=document.getElementById("hudcanvas"),i=e.getContext("2d"),d=s.getContext("2d"),p=new o.Map(150,.3,g,c),u=new r.Controls,f=new h.Player(p.size/2+.25,p.size/2+.25,new n.Angle(0),g),m=new a.Scene(i,d,c,g,f);e.width=c.width,e.height=c.height,e.style.width=c.width+"px",e.style.height=c.height+"px",s.width=c.width,s.height=c.height,s.style.width=c.width+"px",s.style.height=c.height+"px",u.bindevents(document,s),f.initonmap(p);var w=Date.now();t()})},function(t,e){"use strict";var s=function(){function t(){this.loaded=0,this.wallssrcs=["./assets/walls/wall1.jpg","./assets/walls/wall2.jpg","./assets/walls/wall3.jpg","./assets/walls/wall4.jpg","./assets/walls/wall5.jpg","./assets/walls/wall1b.jpg","./assets/walls/wall2b.jpg","./assets/walls/wall3b.jpg","./assets/walls/wall4b.jpg","./assets/walls/wall5b.jpg","./assets/walls/wall1c.jpg","./assets/walls/wall2c.jpg","./assets/walls/wall3c.jpg","./assets/walls/wall4c.jpg","./assets/walls/wall5c.jpg"],this.spritessrcs=["./assets/sprites/sprite1.png","./assets/sprites/sprite2.png","./assets/sprites/sprite3.png","./assets/sprites/sprite4.png","./assets/sprites/sprite5.png"],this.gunsrcs=["./assets/sprites/gun/gun.png","./assets/sprites/gun/shoot1.png","./assets/sprites/gun/shoot2.png","./assets/sprites/gun/shoot3.png","./assets/sprites/gun/shoot4.png","./assets/sprites/gun/reload1.png","./assets/sprites/gun/reload2.png","./assets/sprites/gun/reload3.png","./assets/sprites/gun/reload4.png"],this.bloodsrcs=["./assets/sprites/blood/blood1.png","./assets/sprites/blood/blood2.png","./assets/sprites/blood/blood3.png"],this.zspritessrcs=["./assets/sprites/femalezombiewalk/Walk (1).png","./assets/sprites/femalezombiewalk/Walk (2).png","./assets/sprites/femalezombiewalk/Walk (3).png","./assets/sprites/femalezombiewalk/Walk (4).png","./assets/sprites/femalezombiewalk/Walk (5).png","./assets/sprites/femalezombiewalk/Walk (6).png","./assets/sprites/femalezombiewalk/Walk (7).png","./assets/sprites/femalezombiewalk/Walk (8).png","./assets/sprites/femalezombiewalk/Walk (9).png","./assets/sprites/femalezombiewalk/Walk (10).png","./assets/sprites/femalezombiedead/Dead (1).png","./assets/sprites/femalezombiedead/Dead (2).png","./assets/sprites/femalezombiedead/Dead (3).png","./assets/sprites/femalezombiedead/Dead (4).png","./assets/sprites/femalezombiedead/Dead (5).png","./assets/sprites/femalezombiedead/Dead (6).png","./assets/sprites/femalezombiedead/Dead (7).png","./assets/sprites/femalezombiedead/Dead (8).png","./assets/sprites/femalezombiedead/Dead (9).png","./assets/sprites/femalezombiedead/Dead (10).png","./assets/sprites/malezombiewalk/Walk (1).png","./assets/sprites/malezombiewalk/Walk (2).png","./assets/sprites/malezombiewalk/Walk (3).png","./assets/sprites/malezombiewalk/Walk (4).png","./assets/sprites/malezombiewalk/Walk (5).png","./assets/sprites/malezombiewalk/Walk (6).png","./assets/sprites/malezombiewalk/Walk (7).png","./assets/sprites/malezombiewalk/Walk (8).png","./assets/sprites/malezombiewalk/Walk (9).png","./assets/sprites/malezombiewalk/Walk (10).png","./assets/sprites/malezombiedead/Dead (1).png","./assets/sprites/malezombiedead/Dead (2).png","./assets/sprites/malezombiedead/Dead (3).png","./assets/sprites/malezombiedead/Dead (4).png","./assets/sprites/malezombiedead/Dead (5).png","./assets/sprites/malezombiedead/Dead (6).png","./assets/sprites/malezombiedead/Dead (7).png","./assets/sprites/malezombiedead/Dead (8).png","./assets/sprites/malezombiedead/Dead (9).png","./assets/sprites/malezombiedead/Dead (10).png"],this.skylinesrcs=["./assets/sprites/skyline.jpg"],this.soundssrcs=["./assets/sounds/gun.mp3"],this.sprites=new Array,this.zsprites=new Array,this.walls=new Array,this.skyline=new Array,this.gun=new Array,this.blood=new Array,this.sounds=new Array}return t.prototype.toload=function(){return this.walls.length+this.sprites.length+this.zsprites.length+this.skyline.length+this.bloodsrcs.length+this.gunsrcs.length},t.prototype.loadimages=function(t,e,s,i){var a=this;for(var r in t)e.push(new Image),e[r].onload=function(){s(++a.loaded/a.toload()),a.loaded>=a.toload()&&i()},e[r].src=t[r]},t.prototype.loadaudio=function(t,e,s,i){for(var a in t)e.push(new Audio),e[a].oncanplaythrough=function(){},e[a].src=t[a]},t.prototype.loadall=function(t,e){this.loadimages(this.wallssrcs,this.walls,t,e),this.loadimages(this.spritessrcs,this.sprites,t,e),this.loadimages(this.zspritessrcs,this.zsprites,t,e),this.loadimages(this.skylinesrcs,this.skyline,t,e),this.loadimages(this.gunsrcs,this.gun,t,e),this.loadimages(this.bloodsrcs,this.blood,t,e),this.loadaudio(this.soundssrcs,this.sounds,t,e)},t}();e.AssetLoader=s},function(t,e,s){"use strict";var i=s(4),a=s(5),r=s(6),n=s(8),o=s(9),h=s(10),l=s(11),d=s(12),c=s(13),g=function(){function t(t,e,s,i,a){this.ctx=t,this.ctxhud=e,this.settings=s,this.loader=i,this.player=a,this.skipobjectdetectionrays=5,this.lastrender=Date.now(),this.backgroundrenderer=new n.BackgroundRenderer(i,s),this.wallrenderer=new h.WallRenderer(i,s),this.floorrenderer=new l.FloorRenderer(i,s),this.gunrenderer=new d.GunRenderer(i,s),this.bloodrenderer=new c.BloodRenderer(i,s),this.player.gunrenderer=this.gunrenderer}return t.prototype.drawhud=function(){this.ctxhud.clearRect(0,0,this.settings.width,this.settings.height),this.bloodrenderer.render(this.ctxhud),this.gunrenderer.render(this.ctxhud)},t.prototype.getobjectsinrange=function(t,e){for(var s=new Array,i=0;i<e.length;i++)a.DistanceCalc.mdistance(t,e[i])<this.settings.drawingdistance&&s.push(e[i]);return s},t.prototype.getobjectstodraw=function(t,e,s,r,n){for(var o=new Array,h=0,l=e;h<l.length;h++){var d=l[h],c=Math.atan2(d.y-t.y,d.x-t.x),g=s-c;if(g<-Math.PI&&(g+=i.PI2_0),g>Math.PI&&(g-=i.PI2_0),d.distance=a.DistanceCalc.distance(t,d),d.distance<this.settings.drawingdistance&&d.distance<n){d.distance<.2&&(d.distance=.2);var p=g/Math.atan2(d.anglewidth,d.distance);Math.abs(p)<=.5&&(p=Math.abs(p-.5),d.left<0&&(d.left=r,d.starttexture=p),d.width+=this.skipobjectdetectionrays,d.endtexture=p,o.push(d),d.settarget(r,this.settings.width))}}return o},t.prototype.renderframe=function(t,e,s){var i=this;this.backgroundrenderer.render(this.ctx,this.player.facing.angle,this.settings.fov);var n=this.getobjectsinrange(this.player,e.sprites);o.Sort.quickSort(n,0,n.length-1,function(t,e){return t.distance>e.distance});for(var h=this.player.getrays(this.settings.width,this.settings.fov),l=(Math.floor(this.player.x)+Math.floor(this.player.y))%2==0,d=0;d<h.length;d++){for(var c=this.settings.height,g=l,p=void 0,u=Math.cos(this.player.facing.angle-h[d].angle),f=r.Ray.cast(e,this.player,null,null,h[d],this.settings.drawingdistance),m=0,w=f;m<w.length;m++){var y=w[m],v=a.DistanceCalc.distance(this.player,y)*u;y.type>0&&(p=v,this.wallrenderer.render(this.ctx,d,v,y)),c=this.floorrenderer.render(this.ctx,d,v,c,g),g=!g}d%this.skipobjectdetectionrays==0&&this.getobjectstodraw(this.player,n,h[d].angle,d,p)}for(var k=0,x=n;k<x.length;k++){var M=x[k];M.left>=0&&M.render(this.ctx),M.ifshoot(this.player.fired,function(){return i.bloodrenderer.splash()}),M.targeted=!1,M.left=-1,M.width=0,M.move(t)}this.player.fired=!1,this.drawhud()},t}();e.Scene=g},function(t,e){"use strict";e.PI0_5=Math.PI/2,e.PI1_0=Math.PI,e.PI1_5=3*Math.PI/2,e.PI2_0=2*Math.PI,e.PI4_0=4*Math.PI},function(t,e){"use strict";var s=function(){function t(){}return t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.mdistance=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},t}();e.DistanceCalc=s},function(t,e,s){"use strict";var i=s(5),a=s(7),r=function(){function t(){}return t.cast=function(e,s,r,n,o,h){if(h<1)return[];var l=r||t.nearesty(s,o),d=n||t.nearestx(s,o),c=i.DistanceCalc.mdistance(s,l),g=i.DistanceCalc.mdistance(s,d);if(c<g){var p=e.getvalue(Math.floor(l.x),l.y-(o.dy>0?0:1));return p>0?[new a.Colision(l.x,l.y,p)]:[new a.Colision(l.x,l.y,p)].concat(t.cast(e,l,null,d,o,h-c))}var p=e.getvalue(d.x-(o.dx>0?0:1),Math.floor(d.y));return p>0?[new a.Colision(d.x,d.y,p)]:[new a.Colision(d.x,d.y,p)].concat(t.cast(e,d,l,null,o,h-g))},t.nearesty=function(t,e){var s=Math.floor(t.y+e.dy);s==t.y&&(s-=1);var i=s-t.y,a=e.ctg*i;return{x:a+t.x,y:s}},t.nearestx=function(t,e){var s=Math.floor(t.x+e.dx);s==t.x&&(s-=1);var i=s-t.x,a=e.tg*i;return{x:s,y:a+t.y}},t}();e.Ray=r},function(t,e){"use strict";var s=function(){function t(t,e,s){this.x=t,this.y=e,this.type=s}return t}();e.Colision=s},function(t,e,s){"use strict";var i=s(4),a=function(){function t(t,e){this.loader=t,this.settings=e}return t.prototype.render=function(t,e,s){var a=this.loader.skyline[0],r=Math.floor(a.width*(i.PI2_0-e)/i.PI4_0),n=Math.floor(.5*a.width*(s/i.PI2_0));t.drawImage(a,r,0,n,a.height,0,0,this.settings.width,this.settings.height2),t.fillStyle=this.settings.floorcolor1,t.fillRect(0,this.settings.height2,this.settings.width,this.settings.height)},t}();e.BackgroundRenderer=a},function(t,e){"use strict";var s=function(){function t(){}return t.quickSort=function(t,e,s,i){var a,r;return e<s&&(a=s,r=this.partition(t,a,e,s,i),this.quickSort(t,e,r-1,i),this.quickSort(t,r+1,s,i)),t},t.partition=function(t,e,s,i,a){for(var r=s,n=s;n<i;n++)a(t[n],t[e])&&(this.swap(t,n,r),r++);return this.swap(t,i,r),r},t.swap=function(t,e,s){var i=t[e];t[e]=t[s],t[s]=i},t}();e.Sort=s},function(t,e){"use strict";var s=function(){function t(t,e){this.loader=t,this.settings=e}return t.prototype.render=function(t,e,s,i){var a=i.x-Math.floor(i.x),r=i.y-Math.floor(i.y),n=Math.abs(a>r?a:r),o=this.getwallimage(i.type,s),h=Math.ceil(this.settings.wallheight/s),l=Math.floor(this.settings.height2-h/2),d=Math.floor(n*o.width),c=.7*this.settings.drawingdistance;t.drawImage(o,d,0,1,o.height,e,l,1,h),e%3==0&&(t.beginPath(),t.moveTo(e,l),t.lineTo(e,this.settings.height-l),t.lineWidth=4,t.strokeStyle="#000000",t.fillStyle="#000000",t.globalAlpha=Math.min(s,c)/c,t.stroke(),t.globalAlpha=1)},t.prototype.getwallimage=function(t,e){return e<3?this.loader.walls[t-1]:e<8?this.loader.walls[t-1+5]:this.loader.walls[t-1+10]},t}();e.WallRenderer=s},function(t,e){"use strict";var s=function(){function t(t,e){this.loader=t,this.settings=e}return t.prototype.render=function(t,e,s,i,a){var r=Math.ceil(this.settings.wallheight/s),n=Math.floor(this.settings.height-(this.settings.height2-r/2));return a&&e%3==0&&(t.beginPath(),t.moveTo(e,i),t.lineTo(e,n),t.lineWidth=3,t.strokeStyle=this.settings.floorcolor2,t.stroke()),n},t}();e.FloorRenderer=s},function(t,e){"use strict";var s=function(){function t(t,e){this.loader=t,this.settings=e,this.frame=0,this.framelength=100,this.state=0,this.lasttick=0,this.framemax=t.gun.length-1,this.left=Math.floor(.5*this.settings.width),this.top=Math.floor(.55*this.settings.height),this.ratio=t.gun[0].width/t.gun[0].height,this.height=Math.floor(this.settings.height-this.top),this.width=Math.floor(this.height*this.ratio)}return t.prototype.render=function(t){this.setframe();var e=this.getimage();t.drawImage(e,0,0,e.width,e.height,this.left,this.top,this.width,this.height)},t.prototype.getimage=function(){return this.loader.gun[this.frame]},t.prototype.shoot=function(){this.state=1},t.prototype.setframe=function(){if(1==this.state){var t=(new Date).getTime();t>this.lasttick&&(this.frame<this.framemax-1?this.frame++:(this.frame=0,this.state=0),this.lasttick=t+this.framelength)}},t}();e.GunRenderer=s},function(t,e){"use strict";var s=function(){function t(t,e){this.loader=t,this.settings=e,this.frame=0,this.framelength=500,this.framemax=3,this.state=0,this.lasttick=0,this.image=0}return t.prototype.render=function(t){if(1==this.state){this.setframe();var e=this.loader.blood[this.image],s=Math.floor(.1*this.settings.height),i=e.width/e.height,a=Math.floor(this.settings.height-s),r=Math.floor(a*i);t.drawImage(e,0,0,e.width,e.height,this.left,s,r,a)}},t.prototype.splash=function(){this.left=Math.floor(this.settings.width*(.5*Math.random())),this.state=1,this.image=Math.floor(3*Math.random()),this.frame=0},t.prototype.setframe=function(){if(1==this.state){var t=(new Date).getTime();t>this.lasttick&&(this.frame<this.framemax?this.frame++:(this.frame=0,this.state=0),this.lasttick=t+this.framelength)}},t}();e.BloodRenderer=s},function(t,e){"use strict";var s=function(){function t(){var t=this;this.rotateleft=!1,this.rotateright=!1,this.forward=!1,this.backward=!1,this.run=!1,this.strafeleft=!1,this.straferight=!1,this.mouserotateleft=0,this.mouserotateright=0,this.shoot=!1,this.mousemovefunction=function(e){return t.mousemove(e)}}return t.prototype.mousemove=function(t){t.movementX<0?(this.mouserotateleft=-t.movementX/5,this.mouserotateright=0):t.movementX>0&&(this.mouserotateleft=0,this.mouserotateright=t.movementX/5)},t.prototype.resetmouserotate=function(){this.mouserotateleft=0,this.mouserotateright=0},t.prototype.keydown=function(t){17==t.keyCode&&(this.shoot=!0),37==t.keyCode&&(this.rotateleft=!0),68==t.keyCode&&(this.strafeleft=!0),39==t.keyCode&&(this.rotateright=!0),65==t.keyCode&&(this.straferight=!0),38!=t.keyCode&&87!=t.keyCode||(this.forward=!0),40!=t.keyCode&&83!=t.keyCode||(this.backward=!0),this.run=t.shiftKey},t.prototype.touchstart=function(t,e){var s=t.touches[0];this.touchend(t),s.pageY<.5*e.height?this.shoot=!0:s.pageX<.333*window.innerWidth?this.rotateleft=!0:s.pageX<.666*window.innerWidth?this.forward=!0:this.rotateright=!0,t.preventDefault(),t.stopPropagation()},t.prototype.touchend=function(t){this.rotateleft=!1,this.rotateright=!1,this.forward=!1,t.preventDefault(),t.stopPropagation()},t.prototype.keyup=function(t){37==t.keyCode&&(this.rotateleft=!1),68==t.keyCode&&(this.strafeleft=!1),39==t.keyCode&&(this.rotateright=!1),65==t.keyCode&&(this.straferight=!1),38!=t.keyCode&&87!=t.keyCode||(this.forward=!1),40!=t.keyCode&&83!=t.keyCode||(this.backward=!1),this.run=t.shiftKey},t.prototype.bindevents=function(t,e){var s=this;t.addEventListener("keydown",function(t){return s.keydown(t)},!1),t.addEventListener("keyup",function(t){return s.keyup(t)},!1),t.addEventListener("pointerlockchange",function(i){s.lockChangeAlert(t,e)},!1),t.addEventListener("mozpointerlockchange",function(i){s.lockChangeAlert(t,e)},!1),e.addEventListener("touchstart",function(t){s.touchstart(t,e)},!1),e.addEventListener("touchend",function(t){s.touchend(t)},!1),e.addEventListener("click",function(t){e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,e.requestPointerLock(),s.shoot=!0},!1)},t.prototype.lockChangeAlert=function(t,e){var s=document.getElementById("hudcanvas");t.pointerLockElement===s||document.mozPointerLockElement===e?t.addEventListener("mousemove",this.mousemovefunction,!1):t.removeEventListener("mousemove",this.mousemovefunction,!1)},t}();e.Controls=s},function(t,e,s){"use strict";var i=s(4),a=function(){function t(e){this.angle=t.normalizeangle(e),this.sin=Math.sin(e),this.cos=Math.cos(e),this.tg=this.sin/this.cos,this.ctg=this.cos/this.sin,this.dx=this.cos>0?1:0,this.dy=this.sin>0?1:0}return t.normalizeangle=function(t){return t<0&&(t+=i.PI2_0),t>i.PI2_0&&(t-=i.PI2_0),t},t}();e.Angle=a},function(t,e,s){"use strict";var i=s(17),a=function(){function t(t,e,s,a){this.map=new Uint8Array(t*t),this.size=t,this.randomize(e);var r=new i.SpritesFactory(s,t,a);this.sprites=new Array;for(var n=0;n<10*t;n++)this.sprites.push(r.createsprite(i.SpriteType.Static));for(var n=0;n<30*t;n++)this.sprites.push(r.createsprite(i.SpriteType.Zombie))}return t.prototype.setvalue=function(t,e,s){var i=this.size*e+t;i<this.map.length&&i>=0&&(this.map[this.size*e+t]=s)},t.prototype.getvalue=function(t,e){if(t>=0&&e>=0&&t<this.size&&e<this.size){var s=this.size*e+t;return this.map[s]}return 0},t.prototype.randomize=function(t){for(var e=0;e<this.map.length;e++)Math.random()<t?Math.random()<.1?this.map[e]=5:Math.random()<.1?this.map[e]=4:Math.random()<.3?this.map[e]=3:Math.random()<.5?this.map[e]=2:this.map[e]=1:this.map[e]=0},t}();e.Map=a},function(t,e,s){"use strict";var i=s(18),a=s(19),r=function(){function t(t,e,s){this.loader=t,this.mapsize=e,this.settings=s}return t.prototype.createsprite=function(t){switch(t){case n.Static:return new i.Sprite(Math.random()*this.mapsize,Math.random()*this.mapsize,this.loader.sprites[Math.floor(Math.random()*this.loader.sprites.length)],this.settings);case n.Zombie:return new a.Zombie(Math.random()*this.mapsize,Math.random()*this.mapsize,Math.floor(2*Math.random()),this.loader,this.settings)}},t}();e.SpritesFactory=r;var n;!function(t){t[t.Static=1]="Static",t[t.Zombie=2]="Zombie"}(n||(n={})),e.SpriteType=n},function(t,e){"use strict";var s=function(){function t(t,e,s,i){this.x=t,this.y=e,this.image=s,this.left=-1,this.width=0,this.anglewidth=.2,this.targeted=!1,null!=i&&(this.height2=Math.floor(i.height/2),this.maxheight=i.wallheight)}return t.prototype.move=function(t){},t.prototype.settarget=function(t,e){},t.prototype.ifshoot=function(t,e){},t.prototype.render=function(t){var e=Math.ceil(this.maxheight/this.distance),s=Math.floor(this.height2+e/2),i=Math.floor(this.starttexture*this.image.width),a=Math.floor(this.endtexture*this.image.width),r=Math.floor(.4*e),n=Math.max(1,a-i),o=s-r;t.drawImage(this.image,i,0,n,this.image.height,this.left,o,this.width,r)},t}();e.Sprite=s},function(t,e){"use strict";var s=function(){function t(t,e,s,i,a){this.x=t,this.y=e,this.type=s,this.loader=i,this.left=-1,this.width=0,this.anglewidth=.35,this.frame=0,this.framemax=9,this.framelength=100,this.dead=!1,this.lasttick=0,this.lastvectorchangetick=0,this.vectorchangelength=3e3,this.targeted=!1,null!=a&&(this.height2=Math.floor(a.height/2),this.maxheight=a.wallheight),this.vector=this.getnewvector()}return t.prototype.getnewvector=function(){return{x:Math.sin(2*Math.random()-1),y:Math.sin(2*Math.random()-1)}},t.prototype.getimage=function(){return 0==this.type?this.loader.zsprites[0+this.frame+(this.dead?10:0)]:this.loader.zsprites[20+this.frame+(this.dead?10:0)]},t.prototype.setvector=function(){var t=(new Date).getTime();t>this.lastvectorchangetick&&(this.vector=this.getnewvector(),this.lastvectorchangetick=t+this.vectorchangelength)},t.prototype.setframe=function(){var t=(new Date).getTime();t>this.lasttick&&(this.frame<this.framemax?this.frame++:this.dead||(this.frame=0),this.lasttick=t+this.framelength)},t.prototype.move=function(t){this.dead||(this.x+=this.vector.x*(t/5e3),this.y+=this.vector.y*(t/5e3),this.setvector())},t.prototype.settarget=function(t,e){.45*e<t&&.55*e>t&&this.distance<5&&(this.targeted=!0)},t.prototype.ifshoot=function(t,e){t&&this.targeted&&!this.dead&&(this.dead=!0,this.frame=0,this.distance<2&&e())},t.prototype.render=function(t){this.setframe();var e=this.getimage(),s=Math.ceil(this.maxheight/this.distance),i=Math.floor(this.height2+s/2),a=Math.floor(this.starttexture*e.width),r=Math.floor(this.endtexture*e.width),n=Math.floor(.8*s),o=Math.max(1,r-a),h=i-n;t.drawImage(e,a,0,o,e.height,this.left,h,this.width,n)},t}();e.Zombie=s},function(t,e,s){"use strict";var i=s(21),a=s(4),r=s(15),n=function(){function t(t,e,s,a){this.x=t,this.y=e,this.facing=s,this.loader=a,this.guncooldown=0,this.fired=!1,null!=a&&(this.mixer=new i.Mixer(a))}return t.prototype.getrays=function(t,e){for(var s=e/t,i=this.facing.angle+e/2,a=new Array,n=0;n<t;n++)a.push(new r.Angle(i)),i-=s;return a},t.prototype.shoot=function(){var t=(new Date).getTime();this.guncooldown<t&&(this.fired=!0,this.mixer.playsound(0),this.guncooldown=t+750,this.gunrenderer.shoot())},t.prototype.rotateleft=function(t,e){this.facing=new r.Angle(this.facing.angle+Math.PI*e*t/1200)},t.prototype.rotateright=function(t,e){this.facing=new r.Angle(this.facing.angle-Math.PI*e*t/1200)},t.prototype.correctposition=function(t,e){t.getvalue(Math.floor(e.x),Math.floor(this.y))>0&&(e.x=this.x),t.getvalue(Math.floor(this.x),Math.floor(e.y))>0&&(e.y=this.y),this.x=e.x,this.y=e.y},t.prototype.moveforward=function(t,e,s){var i={x:this.x+this.facing.cos*t/(s?250:500),y:this.y+this.facing.sin*t/(s?250:500)};this.correctposition(e,i)},t.prototype.movebackward=function(t,e){this.correctposition(e,{x:this.x-this.facing.cos*t/500,y:this.y-this.facing.sin*t/500})},t.prototype.strafeleft=function(t,e,s){var i=new r.Angle(this.facing.angle-a.PI0_5);this.correctposition(e,{x:this.x+i.cos*t/(s?250:500),y:this.y+i.sin*t/(s?250:500)})},t.prototype.straferight=function(t,e,s){var i=new r.Angle(this.facing.angle+a.PI0_5);this.correctposition(e,{x:this.x+i.cos*t/(s?250:500),y:this.y+i.sin*t/(s?250:500)})},t.prototype.initonmap=function(t){for(;t.getvalue(Math.floor(this.x),Math.floor(this.y))>0;)this.x+=1},t.prototype.getcontrols=function(t,e,s){t.forward&&this.moveforward(s,e,t.run),t.backward&&this.movebackward(s,e),t.rotateleft&&this.rotateleft(s,1),t.rotateright&&this.rotateright(s,1),t.mouserotateleft&&this.rotateleft(s,t.mouserotateleft),t.mouserotateright&&this.rotateright(s,t.mouserotateright),t.strafeleft&&this.strafeleft(s,e,t.run),t.straferight&&this.straferight(s,e,t.run),t.shoot&&(this.shoot(),t.shoot=!1),t.resetmouserotate()},t}();e.Player=n},function(t,e){"use strict";var s=function(){function t(t){this.maxchannels=32,this.loader=t,this.audiochannels=new Array;for(var e=0;e<this.maxchannels;e++)this.audiochannels[e]=new i,this.audiochannels[e].audioel=new Audio,this.audiochannels[e].finish=-1}return t.prototype.playsound=function(t){var e=new Audio(this.loader.soundssrcs[t]);e.play()},t}();e.Mixer=s;var i=function(){function t(){}return t}()},function(t,e){}]);
//# sourceMappingURL=app.bundle.js.map